<app-header></app-header>
<div *ngIf="error != null">
  <app-pagenotfound></app-pagenotfound>
</div>


<div *ngIf="advertisement != null" class="container mt-2">

  <div class="mb-5 text-align-center">
    <h5>{{advertisement.subCategory.category.name}} <span>&#8594;</span> <strong>{{advertisement.subCategory.name}}</strong></h5>
  </div>

<!--  <div class="row justify-content-center">-->
<!--    <div class="d-sm-block d-md-block d-lg-none col-sm-12 col-md-9 mt-2">-->
<!--      <mat-card class="d-none d-lg-block col-md-3 mb-5">-->
<!--        <p>Here comes the bids</p>-->
<!--      </mat-card>-->
<!--    </div>-->
<!--  </div>-->
<!--  <div class="row justify-content-center">-->
<!--    <div class="d-sm-block d-md-block d-lg-none col-sm-12 col-md-9 mt-2">-->
<!--      <mat-card class="d-none d-lg-block col-md-3 mb-5">-->
<!--        <p> Here comes info seller </p>-->
<!--      </mat-card>-->
<!--    </div>-->
<!--  </div>-->

  <div class="row justify-content-center">
    <div class="d-none d-lg-block col-md-3">
      <mat-card class="d-none d-lg-block col-md-3 mb-5 form-full-width">
        <h3 class="text-align-center fw-bold">BIDS</h3>
        <div class="row">
          <hr class="mx-auto">
        </div>
        <div *ngFor="let bid of bids">
          <div class="row text-align-center">
            <p class="bidAmount mb-1">{{bid.amount | currency: 'EUR': 'symbol': '1.2-2': 'nl'}}</p>
            <p class="bidder">{{bid.bidder.firstName}} {{bid.bidder.lastName}}</p>
            <p class="bidDate">
              {{bid.createdAt | date:'d MMMM yyyy':'Europe/Amsterdam':'nl' }},
              {{bid.createdAt | date:'HH:mm':'Europe/Amsterdam':'nl' }}
            </p>
          </div>
          <div *ngIf="bid.bidder.id == user.userId" class="text-align-center">
            <i class="fa fa-trash-o removeBid" (click)="openRemoveDialog(bid)"></i>
          </div>
          <hr class="mx-auto">
        </div>
        <div *ngIf="isLoggedIn">
          <form>
            <div class="eur d-flex">
              <i class="fa fa-eur"></i>
              <input type="number" class="form-control" [formControl]="bidFormControl" placeholder="100,00">
              <button mat-flat-button *ngIf="!bidFormControl.valid"  class="btn btn-primary disabled">Bid</button>
              <button mat-flat-button *ngIf="bidFormControl.valid" (click)="openBidDialog()" color="primary">Bid</button>
            </div>
          </form>
        </div>
      </mat-card>
    </div>
    <div class="col-md-6">
      <mat-card>
        <h3 class="text-align-center fw-bold">{{advertisement.title | uppercase}} </h3>
        <div class="row">
          <hr class="mx-auto">
        </div>
        <img class="card-img-top responsive rounded" src="{{advertisement.imgFile}}" alt="{{advertisement.title}}">
          <hr class="mx-auto">
        <mat-card-content class="mb-5">

          <h4 class="mt-3 fw-bold">Asking price: {{advertisement.price | currency: 'EUR': 'symbol': '1.2-2': 'nl'}}</h4>
          <p style="text-align: justify">
            {{advertisement.description}}
          </p>
        </mat-card-content>
      </mat-card>
    </div>
    <div class="d-none d-lg-block col-md-3 ">
      <mat-card class="d-none d-lg-block col-md-3 mb-5 form-full-width">
        <h3 class="text-align-center fw-bold">SELLER</h3>
        <div class="row">
          <hr class="mx-auto">
        </div>
      </mat-card>
    </div>
  </div>



</div>




<div *ngIf="advertisement != null" class="container">

  <div class="row justify-content-center  mt-5">





  </div>
</div>






