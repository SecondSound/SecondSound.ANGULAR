<div class="row offset-md-10">
  <mat-slide-toggle [(ngModel)]="editDetails">Edit details</mat-slide-toggle>
</div>

<div class="row d-flex justify-content-between">
  <div class="col-4">
    <mat-form-field class="form-full-width py-2" appearance="outline">
      <mat-label>First name</mat-label>
      <input matInput placeholder="John" type="text" [readonly]="!editDetails"
             [formControl]="firstNameFormControl" [errorStateMatcher]="matcher" [(ngModel)]="user.firstName">
      <mat-icon matSuffix>person</mat-icon>
      <mat-hint>Please fill in your first name</mat-hint>
      <mat-error *ngIf="firstNameFormControl.hasError('required')">
        Name is <strong>required</strong>
      </mat-error>
      <mat-error *ngIf="firstNameFormControl.invalid && !firstNameFormControl.hasError('required')">
        Name should be between 2 and 50 characters long`
      </mat-error>
    </mat-form-field>
  </div>

  <div class="col-8 p-l-4">
    <mat-form-field class="form-full-width py-2" appearance="outline">
      <mat-label>Last name</mat-label>
      <input matInput placeholder="Smith" type="text" [readonly]="!editDetails"
             [formControl]="lastNameFormControl" [errorStateMatcher]="matcher" [(ngModel)]="user.lastName">
      <mat-icon matSuffix>person</mat-icon>
      <mat-hint>Please fill in your last name</mat-hint>
      <mat-error *ngIf="lastNameFormControl.hasError('required')">
        Name is <strong>required</strong>
      </mat-error>
      <mat-error *ngIf="lastNameFormControl.invalid && !lastNameFormControl.hasError('required')">
        Name should be between 2 and 100 characters long
      </mat-error>
    </mat-form-field>
  </div>
</div>

<div class="row d-flex justify-content-between">
  <div class="col-8">
    <mat-form-field class="form-full-width py-2" appearance="outline">
      <mat-label>Street</mat-label>
      <input matInput placeholder="Main Street" type="text" [readonly]="!editDetails"
             [formControl]="streetFormControl" [errorStateMatcher]="matcher" [(ngModel)]="user.street">
      <mat-icon matSuffix>home</mat-icon>
      <mat-hint>Please fill in your first name</mat-hint>
      <mat-error *ngIf="streetFormControl.hasError('required')">
        Street is <strong>required</strong>
      </mat-error>
      <mat-error *ngIf="streetFormControl.invalid && !streetFormControl.hasError('required')">
        Street should be between 2 and 100 characters long`
      </mat-error>
    </mat-form-field>
  </div>

  <div class="col-4 p-l-4">
    <mat-form-field class="form-full-width py-2" appearance="outline">
      <mat-label>House number</mat-label>
      <input matInput placeholder="17" type="text" [readonly]="!editDetails"
             [formControl]="houseNumberFormControl" [errorStateMatcher]="matcher" [(ngModel)]="user.houseNumber">
      <mat-icon matSuffix>home</mat-icon>
      <mat-hint>Please fill in your last name</mat-hint>
      <mat-error *ngIf="houseNumberFormControl.hasError('required')">
        House number is <strong>required</strong>
      </mat-error>
      <mat-error *ngIf="houseNumberFormControl.invalid && !houseNumberFormControl.hasError('required')">
        House number should be max 8 characters long
      </mat-error>
    </mat-form-field>
  </div>
</div>

<div class="row d-flex justify-content-between">
  <div class="col-6">
    <mat-form-field class="form-full-width py-2" appearance="outline">
      <mat-label>City</mat-label>
      <input matInput placeholder="Amsterdam" type="text" [readonly]="!editDetails"
             [formControl]="cityFormControl" [errorStateMatcher]="matcher" [(ngModel)]="user.city">
      <mat-icon matSuffix>location_city</mat-icon>
      <mat-hint>Please fill in your first name</mat-hint>
      <mat-error *ngIf="cityFormControl.hasError('required')">
        City is <strong>required</strong>
      </mat-error>
      <mat-error *ngIf="cityFormControl.invalid && !cityFormControl.hasError('required')">
        City should be between 2 and 50 characters long
      </mat-error>
    </mat-form-field>
  </div>

  <div class="col-6 p-l-4">
    <mat-form-field class="form-full-width py-2" appearance="outline">
      <mat-label>Country</mat-label>
      <input matInput placeholder="17" type="text" [readonly]="!editDetails"
             [formControl]="countryFormControl" [errorStateMatcher]="matcher" [(ngModel)]="user.country">
      <mat-icon matSuffix>pin_drop</mat-icon>
      <mat-hint>Please fill in your last name</mat-hint>
      <mat-error *ngIf="countryFormControl.hasError('required')">
        Country is <strong>required</strong>
      </mat-error>
      <mat-error *ngIf="countryFormControl.invalid && !countryFormControl.hasError('required')">
        Country should be between 2 and 50 characters long
      </mat-error>
    </mat-form-field>
  </div>
</div>

<div class="row d-flex justify-content-between">
  <div class="col-6">
    <mat-form-field class="form-full-width py-2" appearance="outline">
      <mat-label>Email</mat-label>
      <input type="email" matInput [formControl]="emailFormControl" [errorStateMatcher]="matcher"
             placeholder="john.doe@example.com" [(ngModel)]="user.email">
      <mat-icon matSuffix>mail</mat-icon>
      <mat-hint>Please fill in your e-mail address</mat-hint>
      <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
        Please enter a valid email address
      </mat-error>
      <mat-error *ngIf="emailFormControl.hasError('required')">
        Email is <strong>required</strong>
      </mat-error>
    </mat-form-field>
  </div>

  <div class="col-6 p-l-4">
    <mat-form-field class="form-full-width py-2" appearance="outline">
      <mat-label>Phone number</mat-label>
      <input matInput placeholder="+31618588946" type="text" [readonly]="!editDetails"
             [formControl]="phoneNumberFormControl" [errorStateMatcher]="matcher" [(ngModel)]="user.phoneNumber">
      <mat-icon matSuffix>call</mat-icon>
      <mat-hint>Please fill in your phone number</mat-hint>
      <mat-error *ngIf="phoneNumberFormControl.hasError('required')">
        Phone number is <strong>required</strong>
      </mat-error>
      <mat-error *ngIf="phoneNumberFormControl.invalid && !phoneNumberFormControl.hasError('required')">
        Phone number should be between 8 and 20 characters long
      </mat-error>
    </mat-form-field>
  </div>
</div>

<div class="row d-flex justify-content-between">
    <div class="col-12">
      <mat-form-field class="form-full-width py-2" appearance="outline">
        <mat-label>IBAN (International Bank Account Number)</mat-label>
        <input matInput placeholder="NL91ABNA0417164300" type="text" [readonly]="!editDetails"
               [formControl]="ibanFormControl" [errorStateMatcher]="matcher" [(ngModel)]="user.iban">
        <mat-icon matSuffix>account_balance</mat-icon>
        <mat-hint>Please fill in your IBAN</mat-hint>
        <mat-error *ngIf="ibanFormControl.hasError('required')">
          IBAN is <strong>required</strong>
        </mat-error>
        <mat-error *ngIf="ibanFormControl.invalid && !ibanFormControl.hasError('required')">
         IBAN should match international format. Example: NL91ABNA0417164300
        </mat-error>
      </mat-form-field>
    </div>
</div>

<button *ngIf="editDetails" mat-flat-button color="primary" type="button" class="half-width my-2"
        (click)="updateUser()" [disabled]="!getFormState()">Update details</button>
