<form class="form-width">
  <p class="pt-4 text-align-center">Please fill out the form to register your account.</p>

  <div class="d-flex justify-content-between">
    <div class="col-4">
      <mat-form-field class="form-full-width py-2" appearance="outline">
        <mat-label>First name</mat-label>
        <input matInput placeholder="John" type="text"
               [formControl]="firstNameFormControl" [errorStateMatcher]="matcher" [(ngModel)]="firstName">
        <mat-icon matSuffix>person</mat-icon>
        <mat-hint>Please fill in your first name</mat-hint>
        <mat-error *ngIf="firstNameFormControl.hasError('required')">
          Name is <strong>required</strong>
        </mat-error>
        <mat-error *ngIf="firstNameFormControl.invalid && !firstNameFormControl.hasError('required')">
          Name should be between {{ minLengthName }} and {{ maxLengthFirstName }} characters long`
        </mat-error>
      </mat-form-field>
    </div>

    <div class="col-8 p-l-4">
      <mat-form-field class="form-full-width py-2" appearance="outline">
        <mat-label>Last name</mat-label>
        <input matInput placeholder="Smith" type="text"
               [formControl]="lastNameFormControl" [errorStateMatcher]="matcher" [(ngModel)]="lastName">
        <mat-icon matSuffix>person</mat-icon>
        <mat-hint>Please fill in your last name</mat-hint>
        <mat-error *ngIf="lastNameFormControl.hasError('required')">
          Name is <strong>required</strong>
        </mat-error>
        <mat-error *ngIf="lastNameFormControl.invalid && !lastNameFormControl.hasError('required')">
          Name should be between {{ minLengthName }} and {{ maxLengthLastName }} characters long
        </mat-error>
      </mat-form-field>
    </div>
  </div>


  <mat-form-field class="form-full-width py-2" appearance="outline">
    <mat-label>Email</mat-label>
    <input type="email" matInput [formControl]="emailFormControl" [errorStateMatcher]="matcher"
           placeholder="john.doe@example.com" [(ngModel)]="email">
    <mat-icon matSuffix>mail</mat-icon>
    <mat-hint>Please fill in your e-mail address</mat-hint>
    <mat-error *ngIf="emailFormControl.hasError('email') && !emailFormControl.hasError('required')">
      Please enter a valid email address
    </mat-error>
    <mat-error *ngIf="emailFormControl.hasError('required')">
      Email is <strong>required</strong>
    </mat-error>
  </mat-form-field>

  <mat-form-field class="form-full-width py-2" appearance="outline">
    <mat-label>Password</mat-label>
    <input type="password" matInput [formControl]="passwordFormControl" [errorStateMatcher]="matcher"
           [type]="hide ? 'password' : 'text'" [(ngModel)]="password" (input)="matchPasswordsValidator()">
    <mat-icon matSuffix (click)="displayPassword()">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
    <mat-hint>Please fill in your password</mat-hint>
    <mat-error *ngIf="passwordFormControl.hasError('password') && !passwordFormControl.hasError('required')">
      Please enter a valid password
    </mat-error>
    <mat-error *ngIf="passwordFormControl.hasError('required')">
      Password is <strong>required</strong>
    </mat-error>
    <mat-error *ngIf="passwordFormControl.invalid && !passwordFormControl.hasError('required')">
      Password needs to be at least {{ minLengthPassword }} characters long
    </mat-error>
  </mat-form-field>

  <mat-form-field class="form-full-width py-2" appearance="outline">
    <mat-label>Confirm Password</mat-label>
    <input type="password" matInput [formControl]="passwordConfirmFormControl" [errorStateMatcher]="matcher"
           [type]="hide ? 'password' : 'text'" [(ngModel)]="confirmPassword" (input)="matchPasswordsValidator()">
    <mat-icon matSuffix (click)="displayPassword()">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
    <mat-hint>Please fill in your password</mat-hint>
    <mat-error *ngIf="passwordConfirmFormControl.hasError('password') && !passwordConfirmFormControl.hasError('required')">
      Please enter a valid password
    </mat-error>
    <mat-error *ngIf="passwordConfirmFormControl.hasError('required')">
      Password is <strong>required</strong>
    </mat-error>
    <mat-error *ngIf="passwordConfirmFormControl.hasError('passwordsDontMatch') && !passwordFormControl.hasError('minLength')">
      Passwords don't match
    </mat-error>
  </mat-form-field>

  <button mat-flat-button color="primary" type="button" class="half-width my-2"
          (click)="registerUser()" [disabled]="!getFormState()">Create your account</button>
</form>
